# [日鉄ソリューションズプログラミングコンテスト2022（AtCoder Beginner Contest 257） \- AtCoder](https://atcoder.jp/contests/abc257)

フェルマー素数回。

|問題|結果|経過時間|
|:---:|:---:|:---:|
|A|1AC|2:38|
|B|1AC|10:35|
|C|1AC|24:10|
|D|1AC|56:15|
|E|1AC|77:02|

- 順位：757/8507
- パフォーマンス：1608
- レーティング：1195→1248 (+49)

この1週間はちょこちょこ解いていたので、これで水色復帰できなかったらどうしようかと……。

## [A \- A to Z String 2](https://atcoder.jp/contests/abc257/tasks/abc257_a)

## [B \- 1D Pawn](https://atcoder.jp/contests/abc257/tasks/abc257_b)

## [C \- Robot Takahashi](https://atcoder.jp/contests/abc257/tasks/abc257_c)

$X$ は実数を動くが、十分小さい $\delta>0$ を取って全ての $i$ に対して $W_i$, $W_i+\delta$, $W_i-\delta$ で最大 $3N$ 回の全探索をすれば十分。$\delta = 1/2$ で良い。

浮動小数点数で受けるとソートが面倒なので、全て2倍して整数の範囲で扱うと楽。

各 $X$ に対して、正しく判定できる人数は `lower_bound` と `upper_bound` で $O(\logN)$。全体で $O(N\logN)$。

解説は子供と大人を混ぜて並べて、前から舐める方法。累積和。

[解説 \- 日鉄ソリューションズプログラミングコンテスト2022（AtCoder Beginner Contest 257）](https://atcoder.jp/contests/abc257/editorial/4181)

## [D \- Jumping Takahashi 2](https://atcoder.jp/contests/abc257/tasks/abc257_d)

> 高橋君の目的は、適切に始点とするジャンプ台を決めることで、そのジャンプ台からどのジャンプ台にも何回かのジャンプで移動できるようにすることです。

- 任意の2点間だと思って
- ジャンプの度にパワーが増えると思って（？）

時間を無駄にした。

まず $S=0$ から始める。$i$ から $j$ にジャンプするには、最小で

$$
S_{i\rightarrow j} = \left\lceil \frac{ |x_i-x_j| + |y_i - y_j| }{P_i} \right\rceil
$$

のパワーが必要。これを距離だと思って、頂点 $i$ に到達するたびに $(S_{i\rightarrow j}, j)$ を min-heap に積んで行って、
到達していない頂点がなくなるまで続ける。$S$ が足りていければその都度上昇させる。

これを各頂点に対して行って、$O(N^3)$。$N \leq 200$ だから多分間に合う。

「訓練」という表現が紛らわしく感じたけれど、解き方は結局「訓練」っぽい感じになっている。今ある力で到達できる点全てに辿り着いたら、訓練して力を増やす、みたいな。

## [E \- Addition and Multiplication 2](https://atcoder.jp/contests/abc257/tasks/abc257_e)

明らかにC、Dより簡単（と言いつつ20分かかってるな……）。

操作の回数が最終的に得られる $x$ の桁数に一致する。この桁数を実現する方法の中で、上位の桁がなるべく大きくなるように決めていく。貪欲。

具体的には、残りの予算が $ \min(C_i) \times (残り桁数)$ を下回らないように、9→1の順にその桁に当てられるか確かめていく。$O(N)$。

## [F \- Teleporter Setting](https://atcoder.jp/contests/abc257/tasks/abc257_f)

本番では間に合わず。

テレポートを利用する場合としない場合の距離を較べて小さいものを取る。

`i` をテレポートの「ハブ」として、`v, w` がその `i` と結ばれているとする。
テレポートを利用することで最短距離が縮まるとすれば、

```
1 -- v ~~ i -- N
1 -- i ~~ w -- N
1 -- v ~~ i ~~ w --N
```

のパターンしかない。`--` が普通の道、`~~` がテレポート。つまり、テレポートを1回使うか2回使うか。

`1--v` 間の距離は、テレポートの決まっている側の町までの最小値。`w--N` も同様。

`v=i` か `w=i` のパターンもあるが、その場合は元から繋がっているので、比較によって弾かれる。

町1から各町への距離と、町 $N$ から各町への距離はDijkstra法で予め計算しておく。

繋がっていない場合もありうるが、適当な十分大きい数で初期化しておけばOK。